<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>GTPS - Login</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <style>
    body {
      font-family: 'Inter', sans-serif;
      background: linear-gradient(135deg, #4f46e5, #0ea5e9);
      min-height: 100vh;
    }
    .login-box {
      backdrop-filter: blur(18px);
      background: rgba(255, 255, 255, 0.12);
      border: 1px solid rgba(255, 255, 255, 0.25);
    }
    .input-field {
      background: rgba(255, 255, 255, 0.15);
      border: 1px solid rgba(255, 255, 255, 0.25);
      transition: 0.2s;
    }
    .input-field:focus {
      background: rgba(255, 255, 255, 0.25);
      border-color: #93c5fd;
    }
    .login-btn {
      background: linear-gradient(45deg, #3b82f6, #1d4ed8);
      transition: 0.2s;
    }
    .login-btn:hover {
      background: linear-gradient(45deg, #2563eb, #1e40af);
      transform: translateY(-2px);
    }
    .register-btn:hover {
      background: rgba(255, 255, 255, 0.15);
    }
  </style>
</head>
<body class="flex items-center justify-center p-6">

  <div class="login-box rounded-2xl p-8 w-full max-w-md shadow-2xl">
    <!-- Header -->
    <div class="text-center mb-6">
      <h1 class="text-3xl font-bold text-white mb-1">Welcome to GTPS</h1>
      <p class="text-white/70 text-sm">Login with your GrowID</p>
    </div>

    <!-- Error Message -->
    <div id="errorDiv" class="hidden mb-4 p-3 bg-red-500/20 border border-red-400/30 rounded-lg">
      <span id="errorMessage" class="text-red-200 text-sm"></span>
    </div>

    <!-- Login Form -->
    <form method="POST" action="/player/growid/login/validate" accept-charset="UTF-8" id="loginForm">
      <input name="_token" type="hidden" value="">

      <!-- GrowID -->
      <div class="mb-4">
        <div class="relative">
          <i class="fas fa-user absolute left-3 top-1/2 transform -translate-y-1/2 text-white/60"></i>
          <input 
            type="text" 
            name="growId" 
            id="loginGrowId" 
            class="input-field w-full pl-10 pr-4 py-3 rounded-lg text-white placeholder-white/50 focus:outline-none"
            placeholder="Your GTPS Name"
            autocomplete="username"
          >
        </div>
      </div>

      <!-- Password -->
      <div class="mb-6">
        <div class="relative">
          <i class="fas fa-lock absolute left-3 top-1/2 transform -translate-y-1/2 text-white/60"></i>
          <input 
            type="password" 
            name="password" 
            id="loginPassword" 
            class="input-field w-full pl-10 pr-10 py-3 rounded-lg text-white placeholder-white/50 focus:outline-none"
            placeholder="Your GTPS Password"
            autocomplete="current-password"
          >
          <button type="button" id="toggleLogPassword" class="absolute right-3 top-1/2 transform -translate-y-1/2 text-white/60 hover:text-white/90">
            <i class="fas fa-eye"></i>
          </button>
        </div>
      </div>

      <!-- Login Button -->
      <button 
        type="submit" 
        id="loginButton" 
        class="login-btn w-full py-3 rounded-lg text-white font-semibold shadow-lg mb-3"
      >
        Login
      </button>
    </form>

    <!-- Register Button -->
    <form method="POST" action="/player/growid/login/validate" accept-charset="UTF-8">
      <input name="_token" type="hidden" value="">
      <input name="growId" type="hidden" value="">
      <input name="password" type="hidden" value="">
      <button 
        type="submit" 
        class="register-btn w-full py-3 rounded-lg text-white font-medium border border-white/30 transition-all"
      >
        Don’t have any GrowID? Register here!
      </button>
    </form>

    <!-- Footer -->
    <div class="mt-6 text-center text-white/60 text-xs">
      GTPS <span class="font-semibold text-white">2025©</span>
    </div>
  </div>

  <script>
    // Save GrowID
    document.addEventListener('DOMContentLoaded', function () {
      if (localStorage.getItem('growId')) {
        document.getElementById('loginGrowId').value = localStorage.getItem('growId');
      }
    });

    // Toggle password
    document.getElementById('toggleLogPassword').addEventListener('click', function () {
      const passField = document.getElementById('loginPassword');
      const isPassword = passField.type === 'password';
      passField.type = isPassword ? 'text' : 'password';
      this.innerHTML = `<i class="fas fa-eye${isPassword ? '-slash' : ''}"></i>`;
    });

    // Validate form
    document.getElementById('loginButton').addEventListener('click', function (event) {
      const uName = document.getElementById('loginGrowId').value.trim();
      const uPass = document.getElementById('loginPassword').value;

      if (!uName || !uPass) {
        event.preventDefault();
        showError("Please fill in all fields");
      } else if (uName.length < 3) {
        event.preventDefault();
        showError("GrowID must be at least 3 characters");
      } else if (uPass.length < 4) {
        event.preventDefault();
        showError("Password must be at least 4 characters");
      } else {
        localStorage.setItem('growId', uName);
      }
    });

    function showError(message) {
      const errorDiv = document.getElementById('errorDiv');
      const errorMessage = document.getElementById('errorMessage');
      errorMessage.textContent = message;
      errorDiv.classList.remove('hidden');
      setTimeout(() => errorDiv.classList.add('hidden'), 4000);
    }
  </script>
</body>
</html>
